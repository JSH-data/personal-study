#### 2.1 타입이란

##### 1. 자료형으로서의 타입
- 컴퓨터의 메모리 공간은 한정적입니다. 따라서 메모리에 값을 효율적으로 저장하기 위해서는 메모리 공간을 차지할 값의 크기를 알아야합니다.
- 값의 크기를 명시한다면 컴퓨터가 값을 참조할 때 한 번에 읽을 메모리 크기를 알 수 있어 값을 훼손하지 않고 가져올 수 있습니다. 
- 최신 ECMAScript 표준을 따르는 JS는 다음과 같은 7가지 데이터 타입을 정의합니다. 
	- undefined
	- null
	- Boolean
	- Symbol
	- Numeric
	- Obejct
- 데이터 타입은 여러 종류의 데이터를 식별하는 분류 체계로 컴파일러에 값의 형태를 알려주는 역할을 합니다. 

##### 2. 집합으로서의 타입
- 타입은 값이 가질 수 있는 유효한 범위의 집합을 말합니다. 
- 타입 시스템은 코드에서 사용되는 유효한 값의 범위를 제한해서 런타임에 발생할 수 있는 유효하지 않은 값에 대한 에러를 방지해줍니다. 

##### 3. 정적 타입과 동적 타입
- 타입을 결정하는 시점에 따라 타입을 정적 타입과 동적 타입으로 분류할 수 있습니다. 
- **정적 타입 시스템**에서는 **모든 변수의 타입이 컴파일 타임에 결정**됩니다. 번거롭긴하지만 컴파일 타임에 타입 에러를 발견할 수 있기 때문에 **안정성을 보장**할 수 있습니다. 
- **동적 타입 시스템**에서는 **변수의 타입이 런타임에 결정**됩니다. 그렇기 때문에 언제 프로그램에 오류가 생길지 모르는 불안감에 휩싸이게 됩니다.

##### 4. 강타입과 약타입
- **암묵적 타입 변환**이란 컴파일러 또는 엔진 등에 의해서 **런타임에 타입이 자동으로 변경되는 것**을 의미합니다.
- 암묵적 타입 변환 여부에 따라 타입 시스템을 **강타입**과 **약타입**으로 분류할 수 있다. 
- 강타입 특징을 가진 언어는 서로 다른 타입을 갖는 값끼리 연산을 시도하면 컴파일러 또는 인터프리터에서 에러가 발생합니다. 
- 약타입 언어에서는 서로 다른 타입을 갖는 값끼리 연산을 할 때는 컴파일러 또는 인터프리터가 내부적으로 판단해서 특정 값의 타입을 변환하여 연산을 수행한 후 값을 도출합니다. 
- 타입 스크립트는 컴파일러 단계에서 오류를 도출하는 강타입 언어입니다. 
- 타입스크립트는 자동으로 타입을 추론하는 타입 시스템과 컴파일러에 타입을 명시적으로 알려주는 두가지 타입 시스템을 갖추고 있다. 

##### 5. 컴파일 방식
- 컴파일의 일반적인 의미는 사람이 이해할 수 있는 방식으로 작성한 코드를 컴퓨터가 이해할 수 있는 기계어로 바꿔주는 과정을 말합니다. 
- 일반적으로 Java, C++ 등의 고수준 언어는 컴파일러를 통해 컴퓨터가 해석할 수 있는 바이너리 코드로 변환됩니다. 
- 하지만 타입스크립트의 컴파일 결과물은 여전히 사람이 이해할 수 있는 방식인 자바스크립트입니다. 
- 타입스크립트는 컴파일 타임에 런타에러를 사전에 잡아내기 위한 것으로 타입스크립트를 컴파일하면 타입이 모두 제거된 자바스크립트 소스코드만이 남게 됩니다. 

#### 2.2 타입스크립트의 타입 시스템

##### 1. 타입 애너테이션 방식
- **타입 애너테이션**이란 **변수나 상수 혹은 함수의 인자와 반환 값에 타입을 명시적으로 선언해서 어떤 타입 값이 저장될 것인지를 컴파일러에 알려주는 문법**입니다. 
```typescript
let isDone: boolean = false; // 변수 이름 뒤에 : type 구문을 붙여 데이터 타입을 명시
```

##### 2. 구조적 타이핑
- 타입을 사용하는 여러 프로그래밍 언어에서 값이나 객체는 하나의 구체적인 타입을 가지고 있습니다. 
- 타입은 이름으로 구분되며 컴파일타임 이후에도 남아있습니다. 이것을 명목적으로 구체화한 타입 시스템이라고 부르기도 합니다. 
- **타입스크립트는 이름으로 타입을 구분하는 명목적인 타입 언어의 특징과 달리 타입스크립트는 구조로 타입을 구분합니다. 이것을 구조적 타이핑이라고 합니다.** 

##### 3. 구조적 서브타이핑
- 타입은 단지 집합에 포함되는 값이고 특정 값은 많은 집합에 포함될 수 있다. 따라서 타입스크립트에서는 특정 값이 string 또는 number 타입을 동시에 가질 수 있습니다. 
```typescript
type stringOrNumber = string | number;
```
- 이처럼 집합으로 나타낼 수 있는 타입스크립트의 개념이 **구조적 서브타이핑**입니다. 
- 객체가 가지고 있는 속성을 바탕으로 타입을 구분하는 것입니다. 이름이 다르더라도 속성이 동일하다면 타입스크립트는 서로 호환이 가능한 동일한 타입으로 여깁니다. 
```typescript
class Person {
	name: string;
	age: number;
	// ...
}

class Developer {
	name: string;
	age: number;
	sleepTime: number;
	// ...
}

function greet(p: Person) {
	//...
}

const dev = new Developer()

greet(dev) // OK!
```
- Developer 클래스가 Person을 상속받지 않았음에도 위 코드는 정상 작동합니다. Developer가 Person이 갖는 모든 속성을 갖고 있기 때문입니다. 
- 타입의 호환성은 오로지 타입 내부 구조에 의해 결정됩니다. 타입 A가 타입 B의 서브타입인경우 B 타입이 필요한 곳 어디서든 A 타입이 위치할 수 있습니다. 즉 타입이 계층 구조로부터 자유롭습니다. 

##### 4. 자바스크립트를 닮은 타입스크립트
- 덕 타이핑이란 어떤 함수의 매개변숫 값이 올바르게 주어진다면 그 값이 어떻게 만들어졌는지 신경쓰지 않고 사용한다는 개념입니다. 
- 자바스크립트는 **덕타이핑**을 기반으로 하고, 타입스크립트는 이런 동작을 그대로 모델링하였습니다. 
- 타입스크립트는 명목적 타이핑이 아닌 객체가 가진 속성을 기반으로 타입을 검사하기 때문입니다. 

##### 5. 구조적 타이핑의 결과
- 타입스크립트 구조적 타이핑의 특징 때문에 예기치 못한 결과가 나올 때도 있습니다. 
- 이런 한계를 극복하고자 타입스크립트에 명목적 타이핑 언어의 특징을 가미한 식별할 수 있는 유니온 같은 방법이 생겨났습니다. 

##### 6. 타입스크립트의 점진적 타입 확인
- **점진적 타입 검사**란 컴파일 타임에 타입을 검사하면서 필요에 따라 타입 선언을 생략을 허용하는 방식입니다. 
- 타입스크립트는 **타입을 지정한 경우 정적으로 타입을 검사하지만** **생략시 동적으로 검사를 수행하며 암시적으로 타입 변환이 일어납니다**. 
- 하지만 이는 타입의 정확성을 100% 보장해주지 않습니다. 때문에 런타임에서 에러가 발생할 수 있으니 주의가 필요합니다. 

##### 7. 자바스크립트 슈퍼셋으로서의 타입스크립트
- 타입스크립트는 기존 JS 코드에 정적인 타이핑을 추가한 것으로 자바스크립트의 상위 집합입니다.

##### 8. 값 vs 타입
- **값**은 프로그램이 처리하기 위해 메모리에 저장하는 모든 데이터입니다. 프로그래밍 관점에서는 문자열, 숫자, 변수, 매개변수 등이 값에 해당합니다. 
- 타입스크립트는 타입이라는 개념을 가지고 있으며 값에  `: type` 형태로 타입을 명시합니다. 
```typescript
const value: string = "string";
```
- 타입은 런타임 환경에서는 제거 되기 때문에 값 과 타입의 이름은 서로 충돌하지 않습니다.
- 하지만 코드 상에서 값-타입 공간을 명확하게 분리해야합니다. 
```typescript
function func({ email, name: string }) {...} // 값과 타입 공간이  혼재됨
```
- 타입스크립트는 값과 타입 공간에 동시에 존재하는 심볼도 있습니다. 대표적으로 **Class**와 **Enum**이 그러합니다. 
- **Class**는 값으로도, 타입으로도 사용될 수 있습니다. 즉, **코드 상에서 값과 타입 공간 모두에 포함될 수 있습니다.** 
- **Enum**은 런타임에 실제 객체로 존재하며 함수로 표현할 수 있습니다. Enum은 트리쉐이킹이 지원되지 않는 단점을 갖고 있습니다. 

##### 9. 타입을 확인하는 방법
- **typeof**는 피연산자의 데이터 타입을 나타내는 문자열을 반환합니다. 반환 문자열은 JS의 7가지 기본타입입니다. (Boolean, null, undefined, Number, BigInt) 
- **instanceof** 연산자는 프로토타입 체이닝 어딘가에 생성자의 프로토타입 속성이 존재하는지 판단할 수 있습니다. 

#### 2.3 원시 타입
- 자바스크립트에서 값은 타입을 가지지만 변수는 타입을 가지지 않습니다. 따라서 자바스크립트의 변수는 어떤 타입의 값이라도 자유롭게 할당할 수 있습니다. 
- 타입스크립트는 자바스크립트의 변수에 타입을 지정합니다. 이때 타입들은 자바스크립트의 원시 타입을 포함합니다. 

##### 1. boolean
- true와 false 값만 할당할 수 있는 타입입니다. 
```typescript
const isEmpty: boolean = true;
```

##### 2. undefined
- undefined 값만 할당이 가능한 타입입니다. 초기화되어 있지 않거나 존재하지 않음을 나타냅니다. 

##### 3. null
- null만 할당이 가능한 타입입니다. 

##### 4. number
- 자바스크립트의 숫자에 해당하는 모든 원시 값을 할당할 수 있습니다. 자바스크립트의 숫자는 정수, 부동소수점수를 구분하지 않기 때문에 모두 number 타입에 할당할 수 있습니다. **이때 NaN이나 Infinity도 포함됩니다.** 

##### 5. bigInt
- ES2020에서 새롭게 도입된 데이터 타입입니다. 이전 자바스크립트에서는 Number.MAX_SAFE_INTEGER를 넘어가는 값을 처리할 수 없었는데 bigInt를 사용하면 이보다 큰 수를 처리할 수 있습니다. number와 bigInt 타입은 서로 호환되지 않습니다. 

##### 6. string
- 문자열을 할당할 수 있는 타입입니다. 공백도 포함됩니다. 

##### 7. symbol
- ES2015에서 도입된 데이터 타입으로 어떤 값과도 중복되지 않는 유일한 값을 생성할 수 있습니다. 
- 타입스크립트에는 symbol 타입과 const 선언에서만 사용할 수 있는 symbol타입의 하위 타입인 unique symbol 타입도 존재합니다. 

#### 2.4 객체 타입
- 앞서 언급한 7가지 원시 타입에 속하지 않는 값은 모두 객체 타입으로 분류할 수 있습니다. 

##### 1. object
- 자바스크립트 객체의 정의에 대응하는 타입입니다. 
- 객체에 해당하는 모든 타입 값을 유동적으로 할당할 수 있기 때문에 any타입과 유사하여 사용이 권장되지 않습니다. 단, 원시타입과 호환되지는 않습니다. 

##### 2. {}
- 중괄호는 자바스크립트에서 객체 리터럴 방식으로 객체를 생성할 때 사용됩니다. 
- 타입스크립트 타입에서는 중괄호 안에 객체의 속성 타입을 지정해주는 경우 사용됩니다. 
- **타이핑되는 객체는 중괄호 안에 선언된 구조와 일치해야합니다.** 
```typescript
const noti: { title: sting, desc: string } = {
	title: "IE 지원 종료",
	desc: "종료임 수고링"
}
```
- {} 타입으로 지정된 객체는 완전히 비어있는 순수한 객체를 의미하지 않습니다. 자바스크립트 프로토타입 체이닝으로 Object 객체 래퍼에서 제공하는 속성에는 정상적으로 접근이 가능합니다. 
-  타입스크립트에서 객체 래퍼를 타입으로 지정할 수 있음에도 위와 같은 이유 때ㅜㅁㄴ에 소문자로 된 타입스크립트 타입 체계를 사용하는 것입니다. 
##### 3. array
- 자바스크립트의 배열은 서로 다른 타입의 값이 혼재되어 저장될 수 있습니다. 
- 타입스크립트는 array를 별도 타입으로 다뤄 저장될 수 있는 타입을 제한할 수 있습니다.

##### 4. type과 interface 키워드
- 객체를 타이핑하기 위해서는 object가 아닌 타입스크립트에서만 독자적으로 사용할 수 있는 키워드를 사용하는게 일반적입니다. 

##### 5. function
- 자바스크립트에서는 함수도 일종의 객체로 간주하지만 typeof 연산자로 함수 타입을 출력해보면 함수를 function이라는 별도 타입으로 분류한다는 것을 확인할 수 있습니다.
```javascript
function add(a, b) {
	return a + b;
}

console.log(typeof add) // function
```
- 타입스크립트에서도 함수를 별도 함수 타입으로 지정할 수 있습니다. 다만 몇가지 주의사항이 있습니다.
	- 자바스크립트에서 typeof연산자로 확인한 function이라는 키워드 자체를 타입으로 사용하지 않습니다.
	- 매개변수도 별도 타입으로 지정해야합니다. 
```typescript
function add(a: number, b: number): number {
	return a + b;
}
```
- 위 예시는 함수의 매개변수 및 반환 값에 대한 타입을 지정하는 문법입니다. 만약 함수 자체의 타입을 지정하기 위해서는 **호출 시그니처**를 정의 방식을 활용해야합니다. 
```typescript
type add = (a: number, b: number) => number;
```