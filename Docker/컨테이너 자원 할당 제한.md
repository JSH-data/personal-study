### 컨테이너의 자원 할당을 제한하는 방법
- 할당된 자원을 초과하는 경우 컨테이너는 자동으로 종료됩니다. 
- 따라서 컨테이너에 적절한 자원을 할당해주는 것은 대단히 중요합니다. 
- 만약 병렬 처리를 위해 CPU를 많이 소모하는 워크로드를 수행해야한다면 `--cpuset-cpu`를 사용하는 것이 캐시, CPU 친화성, 컨텍스트 스위칭 비용에 더 유리합니다.


- `--memory`: 메모리 제한
	- `docker run -d --memory="1g" --name memory_1g nginx`
- `--cpu-shares`: 시스템에 존재하는 CPU를 어느 비중만큼 나눠 쓸 것인지를 명시하는 옵션입니다.
	- `docker run -i -t --naem cpu_share --cpu-shares 1024 ubuntu:14.04`
- `--cpuset-cpus`: 호스트에 CPU가 여러개 있는 경우 컨테이너가 특정 CPU만 사용할 수 있도록 설정할 수 있습니다.
	- `docker run -d --name cpuset_2 --cpuset-cpus=2 alicek106/stress stress --cpu 1` 
- `--cpu-period, --cpu-quota`: 컨테이너의 CFS 주기는 기본적으로 100ms입니다. 이는 옵션을 통해 변경이 가능합니다.
	- `docker run -d --cpu-period=100000 --cpu-quota=25000 ...`
	- 100000(--cpu-period)에서 25000(--cpu-quota)만큼을 할당해 CPU 주기가 1/4로 줄었으므로 성능이 1/4로 감소합니다. 즉, 컨테이너는 (--cpu-quota) / (--cpu-period) 만큼 CPU 시간을 할당 받습니다. 
- `--cpus`: `--cpu-period, --cpu-quota`와 동일한 옵션을 줄 수 있습니다.
	- `docker run -d --cpus=0.25 ...`


